/*
 * Paper
 * A simple, clean, flexible Hugo theme
 * https://github.com/nanxiaobei/hugo-paper
 * Designed by 南小北 https://lee.so/
 */

@import 'tailwindcss';
@plugin '@tailwindcss/typography';
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --w: calc(680px + 32px * 2);
}

@utility dark-bg {
  @apply dark:before:fixed dark:before:inset-0 dark:before:z-[-1] dark:before:bg-black/85;
}

body {
  @apply dark-bg;
  font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

article {
  font-family: 'Crimson Text', Georgia, serif;
  line-height: 1.9;
}

h1,
h2,
h3 {
  @apply font-semibold;
}

pre {
  direction: ltr;
}

article {
  @apply text-lg leading-[1.8] text-black dark:text-white;

  code {
    @apply inline-block text-sm! leading-6!;
  }

  .highlight {
    @apply my-8;

    pre {
      @apply my-0;
    }

    > div {
      @apply rounded-md bg-(--tw-prose-pre-bg);

      table {
        @apply my-0 table-fixed;

        tr {
          @apply flex;

          td {
            @apply p-0;

            pre {
              @apply bg-transparent!;
            }
          }

          &:first-of-type pre {
            @apply pr-[4px];

            code span {
              @apply mr-0! block min-w-[18px] p-0! text-right text-white/40;
            }
          }

          &:last-of-type {
            @apply overflow-auto;
          }
        }
      }
    }
  }
}

.btn {
  @apply rounded-xl bg-black px-5 py-3 text-[0.95em] text-white no-underline duration-100 active:scale-95 dark:bg-white dark:text-black;
}

.link {
  @apply duration-200 hover:text-black dark:hover:text-white;
}

.not-ready * {
  @apply transition-none!;
}

.prose {
  @apply break-words;

  kbd:has(kbd) {
    @apply shadow-none;
  }
}

.btn-menu {
  &::before,
  &::after {
    @apply block h-[2px] w-5 bg-black duration-200 content-[''];
  }

  @apply dark:before:invert dark:after:invert;

  &:where(.open *) {
    &::before {
      @apply w-6 translate-y-[6px] rotate-45;
    }

    &::after {
      @apply w-6 -translate-y-[6px] -rotate-45;
    }
  }
}

.nav-wrapper {
  @apply dark-bg lg:before:hidden dark:before:absolute;

  &:where(.open *) {
    @apply top-0;
  }
}

form {
  @apply mt-4;

  label {
    @apply block font-medium text-black dark:text-white;
  }

  input,
  textarea {
    @apply w-full rounded-md border border-black/20 bg-white px-3 py-2 text-sm text-black placeholder:text-black/40 dark:border-white/20 dark:bg-black dark:text-white dark:placeholder:text-white/40;
  }

  textarea {
    @apply h-32;
  }

  input[type="submit"] {
    @apply btn mt-4;
  }
}

.open {
  @apply overflow-hidden;
}

.search-form {
  @apply flex items-center ltr:ml-4 rtl:mr-4;

  input {
    @apply rounded-md border border-black/20 bg-white px-3 py-1 text-sm text-black placeholder:text-black/40 dark:border-white/20 dark:bg-black dark:text-white dark:placeholder:text-white/40;
  }

  button {
    @apply btn ml-2 shrink-0;
  }
}

.skip-link {
  position: absolute;
  left: -9999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

.skip-link:focus,
.skip-link:active,
.skip-link:focus-visible {
  position: static;
  width: auto;
  height: auto;
  margin: 0 1rem;
  padding: 0.5rem 1rem;
  background: #000;
  color: #fff;
  z-index: 1000;
  text-decoration: none;
  border-radius: 0.25rem;
}

.product-recommendation {
  @apply my-8 border rounded-lg p-4 text-center;
}

.product-recommendation img {
  @apply mx-auto mb-4;
}

.product-recommendation h3 {
  @apply text-xl font-bold;
}

.product-recommendation p {
  @apply my-2;
}

.product-recommendation .btn {
  @apply mt-4;
}

.hero {
  @apply relative bg-cover bg-center text-white text-center py-20 flex items-center justify-center;
  background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/images/hero-bonsai.jpg');
}

.hero-inner {
  @apply relative z-10 max-w-2xl;
}

.hero-title {
  @apply text-5xl font-bold;
}

.hero-subtitle {
  @apply text-2xl mt-4;
}

.hero .btn {
  @apply mt-8;
}

/* Print Styles */
@media print {
  body {
    @apply text-black bg-white;
  }

  .btn, .btn-menu, .btn-dark, .search-form, nav {
    display: none !important;
  }

  .skip-link {
    display: none !important;
  }

  .breadcrumb {
    @apply text-black text-sm mb-4;
  }

  article h1, article h2, article h3, article h4, article h5, article h6 {
    @apply text-black font-bold;
    break-after: avoid;
  }

  article p, article li {
    break-inside: avoid;
  }

  article img {
    max-width: 100% !important;
    height: auto !important;
  }

  .product-recommendation {
    break-inside: avoid;
  }
}

/* Improved accessibility for high contrast */
@media (prefers-contrast: high) {
  .hero {
    background-color: #000 !important;
    color: #fff !important;
  }

  .hero-title, .hero-subtitle {
    color: #fff !important;
  }

  .btn {
    @apply border-2 border-white;
  }
}

/* Focus indicators for better keyboard navigation */
*:focus-visible {
  @apply outline-2 outline-offset-2 outline-green-600 dark:outline-green-400;
}

/* Better touch targets for mobile */
@media (max-width: 768px) {
  .btn-menu {
    min-width: 48px;
    min-height: 48px;
  }

  button, .btn, input[type="submit"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Enhanced link styles */
.link {
  @apply transition-all duration-200 underline decoration-green-500 underline-offset-2;
}

/* Premium Hero Styles */
.premium-hero {
  background-attachment: fixed;
  background-size: cover;
}

.premium-cta-primary {
  box-shadow: 0 10px 30px rgba(34, 197, 94, 0.3);
}

.premium-cta-primary:hover {
  box-shadow: 0 15px 40px rgba(34, 197, 94, 0.4);
}

.premium-3d-card {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1), 0 10px 20px rgba(0, 0, 0, 0.08);
}

.premium-3d-card:hover {
  box-shadow: 0 30px 60px rgba(0, 0, 0, 0.15), 0 15px 30px rgba(0, 0, 0, 0.1);
}

/* Premium animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeInUp {
  animation: fadeInUp 0.6s ease-out;
}

/* Premium gradient backgrounds */
.premium-gradient-text {
  background: linear-gradient(135deg, #22c55e, #16a34a, #15803d);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Parallax effect for premium sections */
@media (min-width: 768px) {
  .premium-hero {
    perspective: 1000px;
  }

  .premium-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    transform: translateZ(-1px) scale(1.1);
    z-index: -1;
  }
}

/* Hero title with premium ultra styling */
.hero-title-ultra {
  font-family: 'Crimson Text', Georgia, serif;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  letter-spacing: -0.02em;
}

/* Premium mobile optimizations */
@media (max-width: 768px) {
  .premium-hero {
    background-attachment: scroll;
    min-height: calc(100vh - 4rem);
  }

  .hero-title-ultra {
    font-size: 3rem !important;
    line-height: 1.1 !important;
  }

  .hero-subtitle {
    font-size: 1.25rem !important;
  }
}

/* Table of Contents Styles */
.toc-sidebar::-webkit-scrollbar {
  width: 4px;
}

.toc-sidebar::-webkit-scrollbar-track {
  @apply bg-gray-100 dark:bg-gray-700 rounded;
}

.toc-sidebar::-webkit-scrollbar-thumb {
  @apply bg-gray-300 dark:bg-gray-600 rounded-full;
}

.toc-link {
  position: relative;
}

.toc-link.toc-active {
  @apply bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300;
}

.toc-link.toc-active::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  @apply bg-green-600;
}
